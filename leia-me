sudo apt-get install python3-mysqldb

cd /home/cams7/Dev/Python/Youtube/Mixincode
source python3-env/django-1.11/bin/activate
python --version
cd Projects
django-admin.py startproject cursodjango2
cd cursodjango2
./manage.py runserver
CTR-C

#-------------------------------------------------

mysql --version

mysql -u root -p
CREATE DATABASE cursodjango2;
GRANT ALL PRIVILEGES ON cursodjango2.* TO 'mixincode'@'%';
FLUSH PRIVILEGES;
exit
mysql --host=127.0.0.1 --user=mixincode --password=django cursodjango2
exit

#-------------------------------------------------

./manage.py check
./manage.py migrate

./manage.py shell
from django.contrib.auth.models import User
usuario = User.objects.create_user('cams7', 'ceanma@gmail.com', '12345')
usuario.first_name = 'César'
usuario.last_name = 'Magalhães'
usuario.is_superuser = True
usuario.is_staff = True
usuario.save()
exit()

./manage.py runserver
CTR-C

./manage.py shell
from django.conf import settings
settings.DEBUG
settings.PROJECT_PATH
settings.BASE_DIR
settings.LANGUAGE_CODE
settings.TIME_ZONE
settings.MEDIA_ROOT
settings.MEDIA_URL
settings.STATIC_ROOT
settings.STATIC_URL
settings.STATICFILES_DIRS
settings.STATICFILES_FINDERS
settings.TEMPLATE_LOADERS
settings.TEMPLATES
exit()

./manage.py startapp aula3

./manage.py runserver

http://localhost:8000/aula3/
http://localhost:8000/aula3/ceanma@gmail.com/

CTR-C

./manage.py shell
from django.core.urlresolvers import reverse
reverse('aula3_index')
reverse('aula3_detail',args=['ceanma@gmail.com'])
exit()

./manage.py startapp aula4

./manage.py shell
from django import template
t = template.Template('Meu nome é {{nome|upper}}.')
c = template.Context({'nome': 'César A. Magalhães'})
t.render(c)
c = template.Context({'nome': 'Kércia O. Alves'})
t.render(c)

template_string = '''
{%if idade <= 20%}
A idade é menor ou igual a 20
{%else%}
A idade é maior que 20
{%endif%}
'''
t = template.Template(template_string)
c = template.Context({'idade': 20})
t.render(c)

c = template.Context({'idade': 34})
t.render(c)

exit()

./manage.py runserver

http://localhost:8000/aula4

CTR-C

./manage.py startapp aula5

./manage.py check
./manage.py makemigrations
./manage.py migrate

./manage.py shell
from datetime import date
from aula5.models import Contato
contato = Contato()
contato.nome = 'César Antônio de Magalhães'
contato.email = 'ceanma@gmail.com'
contato.twitter = 'https://twitter.com/_cams7_'
contato.data_nascimento = date(1983,3,5)
contato.save()
exit()

./manage.py shell
from aula5.models import Contato
contato = Contato.objects.get()
contato
contato = Contato.objects.get(id=1)
contato
contato = Contato.objects.get(pk=1)
contato
contatos = Contato.objects.filter(nome='César Antônio de Magalhães')
contatos
contatos = Contato.objects.all()
contatos
exit()

./manage.py shell
from aula5.models import Post, Categoria, Comentarios
categoria1 = Categoria(nome='Desenvolvimento web')
categoria1.save()
categoria2 = Categoria(nome='Sistemas distribuidos')
categoria2.save()
post1 = Post(titulo='Meu primeiro post', texto='Texto do meu primeiro post')
post1.save()
post1.categorias.add(categoria1)
post1.categorias.add(categoria2)
post1.categorias.all()
comentario1 = Comentarios(autor='César A. Magalhães', comentario='Meu comentário')
comentario1.post = post1
comentario1.save()
comentario2 = Comentarios(autor='César A. Magalhães', comentario='Meu segundo comentário')
comentario2.post = post1
comentario2.save()
exit()

./manage.py shell
from aula5.models import Post, Categoria, Comentarios
categoria1 = Categoria.objects.get(id=1)
categoria1.posts.all()
post1 = Post.objects.get(id=1)
post1.categorias.all()

comentario1 = Comentarios.objects.get(id=1)
comentario1.post
post1 = Post.objects.get(id=1)
post1.comentarios.all()
exit()

./manage.py startapp aula6

./manage.py check
./manage.py makemigrations
./manage.py migrate

./manage.py runserver

http://localhost:8000/aula6
http://localhost:8000/aula6/1

CTR-C

./manage.py startapp aula7

./manage.py shell
from django.contrib.auth.models import User
usuario = User.objects.create_user('luiz', 'luiz@teste.com', 'abc123')
usuario.username
usuario.email
usuario.is_superuser
usuario.first_name = 'Luiz'
usuario.last_name = 'Magalhães'
usuario.save()
usuario.set_password('12345')
usuario.save()
exit()

./manage.py check
./manage.py makemigrations
./manage.py migrate

./manage.py shell
from django.conf import settings
settings.AUTH_PROFILE_MODULE
settings.LOGIN_URL
exit()

./manage.py shell
from datetime import date
from aula7.models import UserProfile
from django.contrib.auth.models import User
usuario = User.objects.get(username='cams7')
perfil = UserProfile.objects.create(user=usuario)
perfil.birthday=date(1983,3,5)
perfil.save()
exit()

./manage.py shell
from django.contrib.auth.models import User, Permission
usuario = User.objects.get(id=2)
usuario.user_permissions.all()
permissoes = Permission.objects.all()
permissoes
usuario.user_permissions.add(permissoes[3])
usuario.user_permissions.all()
exit()

./manage.py runserver

http://localhost:8000/aula7
http://localhost:8000/aula7/sair
http://localhost:8000/view_protegida
http://localhost:8000/view_protegida2

CTR-C


./manage.py shell
from django.contrib.auth.models import User, Group, Permission
usuario = User.objects.create_user('luan', 'luan@teste.com', '12345')
usuario.first_name = 'Luan'
usuario.last_name = 'Magalhães'
usuario.save()
usuario.user_permissions.all()
usuario.user_permissions.clear()
usuario.user_permissions.all()
grupos = Group.objects.all()
grupos
grupo = Group.objects.create(name='Grupo 1')
grupo
grupo.permissions.all()
permissoes = Permission.objects.all()
grupo.permissions.add(permissoes[3])
grupo.permissions.all()
usuario.groups.all()
usuario.groups.add(grupo)
usuario.groups.all()
exit()

./manage.py runserver
CTR-C